CREATE TABLE IF NOT EXISTS apps (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    app VARCHAR(25) NOT NULL,
    CONSTRAINT pk_app PRIMARY KEY (id),
    CONSTRAINT UQ_NAME UNIQUE (app)
);

CREATE TABLE IF NOT EXISTS hits (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    app_id BIGINT NOT NULL,
    uri VARCHAR(150) NOT NULL,
    ip VARCHAR(15) NOT NULL,
    timestamp TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    CONSTRAINT pk_hit PRIMARY KEY (id),
    CONSTRAINT FK_HIT_ON_APP FOREIGN KEY (app_id) REFERENCES apps (id)
);

